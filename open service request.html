<!DOCTYPE html>
<html lang="en">
<head>
    
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://www.singerslfiles.com/images/singer-logos/singer_favicon.ico" type="image/x-icon">
    <title>Open Service Request</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
    <style>
        body { 
            font-family: 'Arial', sans-serif; 
            background-color: #f4f7fa;
            color: #333;
            margin: 0;
            padding: 0;
        }

        header {
            background-color: red;
            color: white;
            padding: 20px 0;
            text-align: left;  /* Align text to the left */
            font-size: 24px;
            font-weight: bold;
            padding-left: 20px;  /* Add some left padding */
        }

        .container {
            background-color: #ffffff;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            max-width: 900px;
            margin: 50px auto;
        }

        .form-group {
            margin-bottom: 0px;
        }

        label {
            font-weight: bold;
            color: #555;
        }

        input, select, button {
            display: block;
            width: 100%;
            padding: 12px;
            margin-top: 8px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            background-color: #f9f9f9;
        }

        input:focus, select:focus, button:focus {
            outline: none;
            border-color: #007bff;
            background-color: #e7f4ff;
        }

        button {
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
            padding: 15px;
            font-size: 18px;
            border-radius: 8px;
        }

        button:hover {
            background-color: #0056b3;
        }

        .hidden {
            display: none;
        }

        #message {
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            color: #28a745;
            margin-top: 20px;
        }

        /* Spinner styling */
        #spinner {
            text-align: center;
            margin-top: 20px;
        }

        .footer {
            position: fixed;
            bottom: 0;
            width: 100%;
            text-align: center;
            padding: 15px;
            font-size: 16px;
            font-weight: bold;
            color: rgba(0, 0, 0, 0.2);
            pointer-events: none;
        }
    </style>
</head>
<body>
    <header>
        <i class="fa-solid fa-file-circle-plus"></i> Open Service Request
    </header>
    
    <div class="container">
        <form id="workOrderForm">
            <div class="form-group">
                <label for="sr_wo_number">SR OR WO NUMBER</label>
                <input type="text" id="sr_wo_number" placeholder="Enter SR or WO Number" required>
            </div>

            <div class="form-group">
                <label for="customer_name">CUSTOMER NAME</label>
                <input type="text" id="customer_name" placeholder="Enter Customer Name" required>
            </div>

            <div class="form-group">
                <label for="wo_status">WO STATUS</label>
                <select id="wo_status">
                    <option value="Active" selected>Active</option>
                    <option value="Repair complete">Repair complete</option>
                    <option value="Estimate given">Estimate given</option>
                    <option value="Estimate not approved">Estimate not approved</option>
                    <option value="Transfer to mc">Transfer to mc</option>
                    <option value="Pending inspection">Pending inspection</option>
                    <option value="Parts pending">Parts pending</option>
                    <option value="Est approval pending">Est approval pending</option>
                </select>
            </div>

            <div class="form-group">
                <label for="customer_mobile">CUSTOMER MOBILE NUMBER</label>
                <input type="text" id="customer_mobile" placeholder="Enter Customer Mobile Number">
            </div>

            <div class="form-group">
                <label for="customer_land">CUSTOMER LAND NUMBER</label>
                <input type="text" id="customer_land" placeholder="Enter Customer Land Number">
            </div>

            <div class="form-group">
                <label for="model">MODEL</label>
                <input type="text" id="model" placeholder="Enter Model">
            </div>

            <div class="form-group">
                <label for="serial">SERIAL</label>
                <input type="text" id="serial" placeholder="Enter Serial Number">
            </div>

            <div class="form-group">
                <label for="order_number">ORDER NUMBER</label>
                <input type="text" id="order_number" placeholder="Enter Order Number">
            </div>

            <div class="form-group">
                <label for="defect">DEFECT</label>
                <select id="defect">
                    <option value="" disabled selected>--Select Defect--</option>
                    <option value="Not booting">Not booting</option>
                    <option value="Blue screen defect">Blue screen defect</option>
                </select>
            </div>

            <div class="form-group">
                <label for="arrival_condition">ARRIVAL CONDITION</label>
                <select id="arrival_condition">
                    <option value="" disabled selected>--Select Arrival Condition--</option>
                    <option value="Dusty and scratched">Dusty and scratched</option>
                    <option value="Physically damaged">Physically damaged</option>
                </select>
            </div>

            <input type="text" id="service_center" class="hidden" value="MICROCHIP">
            <input type="text" id="sfa" class="hidden" value="Hasitha - MATARA SC (HASITHA ELECTRONICS AND ELECTRICAL)">
            <input type="text" id="sr_wo_open_date" class="hidden">
            <input type="text" id="month" class="hidden">

            <div class="form-group">
                <label for="product_hand_over_type">PRODUCT HAND OVER TYPE</label>
                <select id="product_hand_over_type">
                    <option value="" disabled selected>--Select Product Hand Over Type--</option>
                    <option value="SC customer">SC customer</option>
                    <option value="Dealer">Singer showroom</option>
                    <option value="Dealer">Dealer</option>
                    <option value="Dealer">Mobile</option>
                </select>
            </div>

            <div class="form-group">
                <label for="shop_code">SHOP CODE</label>
                <input type="text" id="shop_code" placeholder="Enter Shop Code">
            </div>

            <div class="form-group">
                <label for="warrenty_type">WARRENTY TYPE</label>
                <select id="warrenty_type">
                    <option value="" disabled selected>--Select warrenty Type--</option>
                    <option value="Under warrenty">Under warrenty</option>
                    <option value="Out of warrenty">Out of warrenty</option>
                    <option value="Slmo repair">Slmo repair</option>
                    <option value="RPT repair 6m">RPT repair 6m</option>
                </select>
            </div>

            <div class="form-group">
                <label for="pickup_location">PICKUP LOCATION</label>
                <input type="text" id="pickup_location" placeholder="Enter Pickup Location">
            </div>

            <div class="form-group">
                <label for="email">EMAIL</label>
                <input type="email" id="email" placeholder="Enter Email Address">
            </div>

            <div class="form-group">
                <label for="gender">GENDER</label>
                <select id="gender">
                    <option value="" disabled selected>--Select Gender--</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
            </div>

            <div class="form-group">
                <label for="brand_name">BRAND NAME</label>
                <select id="brand_name">
                    <option value="" disabled selected>--Select Brand--</option>
                    <option value="Dell">Dell</option>
                    <option value="Asus">Asus</option>
                    <option value="Acer">Acer</option>
                    <option value="Msi">Msi</option>
                    <option value="Singer">Singer</option>
                    <option value="SLMO maintenance">SLMO maintenance</option>
                    <option value="Kstar">Kstar</option>
                </select>
            </div>

            <div class="form-group">
                <label for="laptop_password">LAPTOP PASSWORD</label>
                <input type="text" id="laptop_password" placeholder="Enter Laptop Password">
            </div>

            <div class="form-group">
                <label for="customer_address">CUSTOMER ADDRESS</label>
                <input type="text" id="customer_address" placeholder="Enter Customer Address">
            </div>

            <button type="submit"></i> Creat Work order</button>
        </form>

        <div id="spinner" class="hidden">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>

        <p id="message"></p>
    </div>

    <div class="footer">HASITHA ELECTRONICS & ELECTRICALS 2025</div>

    <script>
        function getFormattedDateTime() {
            let now = new Date();
            let hours = now.getHours();
            let minutes = now.getMinutes();
            let month = now.getMonth() + 1;
            let day = now.getDate();
            let year = now.getFullYear();

            return year + "-" + ("0" + month).slice(-2) + "-" + ("0" + day).slice(-2);
        }

        function addSubmitEventListener() {
            let form = document.getElementById('workOrderForm');
            let spinner = document.getElementById('spinner');
            form.addEventListener('submit', function (event) {
                event.preventDefault();

                // Show the spinner
                spinner.classList.remove('hidden');

                // Prepare data
                let data = {
                    data: [{
                        "SR OR WO NUMBER": document.getElementById("sr_wo_number").value,
                        "CUSTOMER NAME": document.getElementById("customer_name").value,
                        "WO STATUS": document.getElementById("wo_status").value,
                        "CUSTOMER MOBILE NUMBER": document.getElementById("customer_mobile").value,
                        "CUSTOMER LAND NUMBER": document.getElementById("customer_land").value,
                        "MODEL": document.getElementById("model").value,
                        "SERIAL": document.getElementById("serial").value,
                        "ORDER NUMBER": document.getElementById("order_number").value,
                        "DEFECT": document.getElementById("defect").value,
                        "ARRIVAL CONDITION": document.getElementById("arrival_condition").value,
                        "SERVICE CENTER": document.getElementById("service_center").value,
                        "SFA": document.getElementById("sfa").value,
                        "PRODUCT HAND OVER TYPE": document.getElementById("product_hand_over_type").value,
                        "WARRENTY TYPE": document.getElementById("warrenty_type").value,
                        "SHOP CODE": document.getElementById("shop_code").value,
                        "PICKUP LOCATION": document.getElementById("pickup_location").value,
                        "EMAIL": document.getElementById("email").value,
                        "SR OR WO OPEN DATE": document.getElementById("sr_wo_open_date").value,
                        "LAPTOP PASSWORD": document.getElementById("laptop_password").value,
                        "CUSTOMER ADDRESS": document.getElementById("customer_address").value,
                        "GENDER": document.getElementById("gender").value,
                        "BRAND NAME": document.getElementById("brand_name").value,
                        "MONTH": document.getElementById("month").value
                    }]
                };

                // API call to submit data
                fetch("https://sheetdb.io/api/v1/fgo8npkoty9ud", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(data)
                })
                .then(() => {
                    document.getElementById("message").textContent = "Work Order Created Suscessfully!";
                    document.getElementById("workOrderForm").reset();

                    // Hide the spinner after submission
                    spinner.classList.add('hidden');
                })
                .catch(error => {
                    console.error("Error:", error);

                    // Hide the spinner in case of an error
                    spinner.classList.add('hidden');
                });
            });
        }

        window.onload = function() {
            document.getElementById("sr_wo_open_date").value = getFormattedDateTime();
            addSubmitEventListener();
        };
    </script>


 <!-- Home icon that links to home.html with blinking effect and custom tooltip -->
 <a href="home.html" class="home-link" style="position: fixed; bottom: 20px; right: 20px; text-decoration: none; z-index: 100;">
    <i class="fa-solid fa-house blink" style="font-size: 40px; color: red;"></i>
    <span class="tooltip-text">Go to Home Page</span>
</a>


<!-- Rest of your content here... -->

<style>
    /* Blinking effect for the home icon */
    @keyframes blink {
        0% {
            opacity: 1;
        }
        50% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }

    .blink {
        animation: blink 1s infinite;
    }

    /* Tooltip text styling */
    .home-link {
        position: relative;
        display: inline-block;
    }

    .tooltip-text {
        visibility: hidden;
        width: 120px;
        background-color: #555;
        color: #fff;
        text-align: center;
        border-radius: 5px;
        padding: 5px;
        position: absolute;
        bottom: 100%; /* Position the tooltip above the icon */
        left: 50%;
        margin-left: -60px; /* Center the tooltip */
        opacity: 0;
        transition: opacity 0.3s;
    }

    .home-link:hover .tooltip-text {
        visibility: visible;
        opacity: 1;
    }
</style>

</body>
</html>
